<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>箭头函数中的this的使用</title>
</head>
<body>

</body>
<script>
  // 什么时候写箭头函数
  // 将一个函数作为参数传递给另外一个函数的时候就可以使用箭头函数
  setTimeout(function () {
    console.log(this)
  }, 1000)

  setTimeout(() => {
    console.log(this)
  }, 1000)


  /**
   * 结论: 箭头函数中的this是如何查找的
   * 向外层作用域中一层层查找this, 直到有this的定义
   * @type {{run(): void}}
   */
  const demo = {

    run () {
      setTimeout(function () {
        console.log('-------------普通函数-------------')
        // this 是window对象
        console.log(this)
        console.log('-------------普通函数-------------')
      })

      setTimeout(() => {
        console.log('-------------箭头函数-------------')
        // this 是obj对象
        console.log(this)
        console.log('-------------箭头函数-------------')
      })

      console.log('-------------函数中的this-------------')
      console.log(this)
      console.log('-------------函数中的this-------------')
    },
  }
  https://mp.weixin.qq.com/s/SHkQ7LEOT0itt4bXMoDBPw
  https://fighter3.blog.csdn.net/article/details/122675642
  https://blog.csdn.net/sinat_40770656/article/details/121667274
  https://blog.csdn.net/tuke_tuke/article/details/51588156?ops_request_misc=&request_id=&biz_id=102&utm_term=hashmap%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-51588156.first_rank_v2_pc_rank_v29&spm=1018.2226.3001.4187
  demo.run()
</script>
</html>
